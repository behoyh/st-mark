{"version":3,"sources":["app.module.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length","1","module","config","$routeProvider","$locationProvider","configApp","angular","$inject","./app.routes","2","routes","getUser","authService","auth","checkUserForLoginRoute","$location","then","user","uid","url","error","when","templateUrl","controller","controllerAs","resolve","otherwise","redirectTo","3","AnnouncementsController","vm","this","title","4","announcements","link","scope","element","attrs","directive","restrict","bindToController","5","window","./announcements.controller","./announcements.directive","6","EventFormController","7","eventForm","8","./event-form.controller","./event-form.directive","9","GuestsListController","10","guestsList","11","./guests-list.controller","./guests-list.directive","12","./landing.controller","13","LandingController","$mdSidenav","$log","$timeout","close","debug","buildDelayedToggler","debounce","toggle","func","wait","context","timer","args","Array","prototype","slice","arguments","cancel","undefined","apply","navigateTo","place","logout","brand","toggleLeft","14","./login.controller","./login.directive","15","loginController","16","login","17","$q","deferred","defer","firebase","onAuthStateChanged","reject","promise","signOut","service","18","factory","./auth.service","19","./app.config","./components","./components/announcements","./components/event-form","./components/guests-list","./components/login","./components/shared"],"mappings":"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","file":"app.min.js","sourcesContent":["\"use strict\";\n\n(function e(t, n, r) {\n    function s(o, u) {\n        if (!n[o]) {\n            if (!t[o]) {\n                var a = typeof require == \"function\" && require;if (!u && a) return a(o, !0);if (i) return i(o, !0);throw new Error(\"Cannot find module '\" + o + \"'\");\n            }var f = n[o] = { exports: {} };t[o][0].call(f.exports, function (e) {\n                var n = t[o][1][e];return s(n ? n : e);\n            }, f, f.exports, e, t, n, r);\n        }return n[o].exports;\n    }var i = typeof require == \"function\" && require;for (var o = 0; o < r.length; o++) {\n        s(r[o]);\n    }return s;\n})({ 1: [function (require, module, exports) {\n        module.exports = config;\n\n        function config($routeProvider, $locationProvider) {\n            angular.module('st-mark').config(configApp);\n\n            configApp.$inject = ['$routeProvider', '$locationProvider'];\n            function configApp($routeProvider, $locationProvider) {\n                require('./app.routes')($routeProvider, $locationProvider); // app routes\n            };\n        }\n    }, { \"./app.routes\": 2 }], 2: [function (require, module, exports) {\n        module.exports = routes;\n\n        function routes($routeProvider, $locationProvider) {\n            $routeProvider.when('/index', {\n                templateUrl: 'src/components/landing.html',\n                controller: 'LandingController',\n                controllerAs: 'vm'\n            }).when('/login', {\n                templateUrl: 'src/components/login/login.html',\n                controller: 'LoginController',\n                controllerAs: 'vm',\n                resolve: {\n                    user: checkUserForLoginRoute\n                }\n            }).when('/guests-list', {\n                templateUrl: 'src/components/guests-list/guests-list.html',\n                controller: 'GuestsListController',\n                controllerAs: 'vm',\n                resolve: {\n                    user: getUser\n                }\n            }).when('/event-form', {\n                templateUrl: 'src/components/event-form/event-form.html',\n                controller: 'EventFormController',\n                controllerAs: 'vm'\n            }).otherwise({ redirectTo: '/index' });\n\n            getUser.$inject = ['authService'];\n            function getUser(authService) {\n                return authService.auth();\n            }\n\n            checkUserForLoginRoute.$inject = ['authService', '$location'];\n            function checkUserForLoginRoute(authService, $location) {\n                authService.auth().then(function (user) {\n                    if (user.uid) return $location.url('/index');\n                }, function (error) {\n                    return error;\n                });\n            }\n        }\n    }, {}], 3: [function (require, module, exports) {\n        module.exports = AnnouncementsController;\n\n        AnnouncementsController.$inject = [];\n        function AnnouncementsController() {\n            var vm = this;\n\n            vm.title = 'Child component!';\n        }\n    }, {}], 4: [function (require, module, exports) {\n        module.exports = announcements;\n\n        announcements.$inject = [];\n        function announcements() {\n            var directive = {\n                restrict: 'AE',\n                scope: {},\n                link: link,\n                templateUrl: 'src/components/announcements/announcements.html',\n                controller: 'AnnouncementsController',\n                controllerAs: 'vm',\n                bindToController: true\n            };\n\n            return directive;\n\n            function link(scope, element, attrs, controller) {}\n        }\n    }, {}], 5: [function (require, module, exports) {\n        (function (angular) {\n            angular.module('announcements', []).controller('AnnouncementsController', require('./announcements.controller')).directive('announcements', require('./announcements.directive'));\n        })(window.angular);\n    }, { \"./announcements.controller\": 3, \"./announcements.directive\": 4 }], 6: [function (require, module, exports) {\n        module.exports = EventFormController;\n\n        EventFormController.$inject = [];\n        function EventFormController() {\n            var vm = this;\n        }\n    }, {}], 7: [function (require, module, exports) {\n        module.exports = eventForm;\n\n        eventForm.$inject = [];\n        function eventForm() {\n            var directive = {\n                restrict: 'AE',\n                templateUrl: 'src/components/event-form/event-form.html',\n                controller: 'EventFormController',\n                controllerAs: 'vm',\n                bindToController: true\n            };\n\n            return directive;\n        }\n    }, {}], 8: [function (require, module, exports) {\n        (function (angular) {\n            angular.module('event-form', []).controller('EventFormController', require('./event-form.controller')).directive('eventForm', require('./event-form.directive'));\n        })(window.angular);\n    }, { \"./event-form.controller\": 6, \"./event-form.directive\": 7 }], 9: [function (require, module, exports) {\n        module.exports = GuestsListController;\n\n        GuestsListController.$inject = [];\n        function GuestsListController() {\n            var vm = this;\n        }\n    }, {}], 10: [function (require, module, exports) {\n        module.exports = guestsList;\n\n        guestsList.$inject = [];\n        function guestsList() {\n            var directive = {\n                restrict: 'AE',\n                templateUrl: 'src/components/guests/guests.html',\n                scope: {},\n                controller: 'GuestsController',\n                controllerAs: 'vm',\n                bindToController: true\n            };\n\n            return directive;\n        }\n    }, {}], 11: [function (require, module, exports) {\n        (function (angular) {\n            angular.module('guests-list', []).controller('GuestsListController', require('./guests-list.controller')).directive('guestsList', require('./guests-list.directive'));\n        })(window.angular);\n    }, { \"./guests-list.controller\": 9, \"./guests-list.directive\": 10 }], 12: [function (require, module, exports) {\n        (function (angular) {\n            angular.module('st-mark').controller('LandingController', require('./landing.controller'));\n        })(window.angular);\n    }, { \"./landing.controller\": 13 }], 13: [function (require, module, exports) {\n        module.exports = LandingController;\n\n        LandingController.$inject = ['$mdSidenav', '$log', '$timeout', '$location', 'authService'];\n        function LandingController($mdSidenav, $log, $timeout, $location, authService) {\n            var vm = this;\n\n            vm.brand = \"St Mark\";\n            vm.title;\n            vm.close = close;\n            vm.toggleLeft = buildDelayedToggler();\n            vm.navigateTo = navigateTo;\n            vm.logout = logout;\n\n            function close() {\n                $mdSidenav('left').close().then(function () {\n                    $log.debug(\"close LEFT is done\");\n                });\n            }\n\n            function buildDelayedToggler() {\n                return debounce(function () {\n                    $mdSidenav('left').toggle().then(function () {\n                        $log.debug(\"toggle left is done\");\n                    });\n                }, 200);\n            }\n\n            function debounce(func, wait, context) {\n                var timer = void 0;\n                return function debounced() {\n                    var context = vm,\n                        args = Array.prototype.slice.call(arguments);\n                    $timeout.cancel(timer);\n                    timer = $timeout(function () {\n                        timer = undefined;\n                        func.apply(context, args);\n                    }, wait || 10);\n                };\n            }\n\n            function navigateTo(place) {\n                $log.debug(\"go to \" + place);\n                $location.url(\"/\" + place);\n            }\n\n            function logout() {\n                authService.logout();\n            }\n        }\n    }, {}], 14: [function (require, module, exports) {\n        (function (angular) {\n            angular.module('login', []).controller('LoginController', require('./login.controller')).directive('login', require('./login.directive'));\n        })(window.angular);\n    }, { \"./login.controller\": 15, \"./login.directive\": 16 }], 15: [function (require, module, exports) {\n        module.exports = loginController;\n\n        loginController.$inject = [];\n        function loginController() {\n            var vm = this;\n        }\n    }, {}], 16: [function (require, module, exports) {\n        module.exports = login;\n\n        login.$inject = [];\n        function login() {\n            var directive = {\n                restrict: 'AE',\n                templateUrl: 'src/components/login/login.html',\n                controller: 'LoginController',\n                controllerAs: 'vm',\n                bindToController: true\n            };\n\n            return directive;\n        }\n    }, {}], 17: [function (require, module, exports) {\n        module.exports = authService;\n\n        authService.$inject = ['$q', '$log'];\n        function authService($q, $log) {\n            var service = {\n                auth: auth,\n                logout: logout\n            };\n\n            return service;\n\n            function auth() {\n                var deferred = $q.defer();\n                firebase.auth().onAuthStateChanged(function (user) {\n                    if (user) {\n                        deferred.resolve(user);\n                    } else {\n                        deferred.reject(user);\n                    }\n                });\n                return deferred.promise;\n            }\n\n            function logout() {\n                firebase.auth().signOut().then(function () {\n                    return $log.debug('user logout');\n                }, function (error) {\n                    return $log.debug(error);\n                });\n            }\n        }\n    }, {}], 18: [function (require, module, exports) {\n        (function (angular) {\n            angular.module('st-mark').factory('authService', require('./auth.service'));\n        })(window.angular);\n    }, { \"./auth.service\": 17 }], 19: [function (require, module, exports) {\n        /** style guide\r\n         * an opinionated style guide with the best of the two worlds\r\n         * https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md\r\n         * https://github.com/johnpapa/angular-styleguide/blob/master/a2/README.md\r\n         */\n\n        (function (angular) {\n            'use strict';\n\n            angular.module('st-mark', ['guests-list', 'event-form', 'announcements', // announcements\n            'login', 'LocalForageModule', // off-line storage\n            'firebase', // firebase\n            'ngAria', // accessibility\n            'ngSanitize', 'ngMessages', // client messages\n            'ngAnimate', // animation\n            'ngRoute', // routing\n            'ngMaterial' // angular material design\n            ]);\n\n            require('./app.config')(); // app config\n\n            require('./components');\n            require('./components/shared');\n            require('./components/login');\n            require('./components/announcements');\n            require('./components/event-form');\n            require('./components/guests-list');\n        })(window.angular);\n    }, { \"./app.config\": 1, \"./components\": 12, \"./components/announcements\": 5, \"./components/event-form\": 8, \"./components/guests-list\": 11, \"./components/login\": 14, \"./components/shared\": 18 }] }, {}, [19]);"],"sourceRoot":"/source/"}